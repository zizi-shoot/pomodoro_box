import React, { useEffect, useState } from 'react';
import Link from 'next/link';
import { useStore } from 'effector-react';
import styles from './header.module.css';
import { useToggleTheme } from '../../hooks';
import { $appTheme } from '../../models/app';

export const Header = () => {
  const appTheme = useStore($appTheme);
  const toggleTheme = useToggleTheme();
  const [isMounted, setIsMounted] = useState(false);

  useEffect(() => {
    setIsMounted(true);
  }, []);

  return (
    <header className={styles.container}>
      <Link href="/">
        <a className={styles.logo}>
          <svg width="233" height="40" viewBox="0 0 233 40" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M57.2249 16.16C58.4569 16.16 59.5609 16.432 60.5369 16.976C61.5129 17.52 62.2729 18.28 62.8169 19.256C63.3769 20.232 63.6569 21.36 63.6569 22.64C63.6569 23.92 63.3769 25.056 62.8169 26.048C62.2729 27.024 61.5129 27.784 60.5369 28.328C59.5609 28.872 58.4569 29.144 57.2249 29.144C56.3129 29.144 55.4729 28.968 54.7049 28.616C53.9529 28.264 53.3129 27.752 52.7849 27.08V33.656H50.4809V16.28H52.6889V18.296C53.2009 17.592 53.8489 17.064 54.6329 16.712C55.4169 16.344 56.2809 16.16 57.2249 16.16ZM57.0329 27.128C57.8489 27.128 58.5769 26.944 59.2169 26.576C59.8729 26.192 60.3849 25.664 60.7529 24.992C61.1369 24.304 61.3289 23.52 61.3289 22.64C61.3289 21.76 61.1369 20.984 60.7529 20.312C60.3849 19.624 59.8729 19.096 59.2169 18.728C58.5769 18.36 57.8489 18.176 57.0329 18.176C56.2329 18.176 55.5049 18.368 54.8489 18.752C54.2089 19.12 53.6969 19.64 53.3129 20.312C52.9449 20.984 52.7609 21.76 52.7609 22.64C52.7609 23.52 52.9449 24.304 53.3129 24.992C53.6809 25.664 54.1929 26.192 54.8489 26.576C55.5049 26.944 56.2329 27.128 57.0329 27.128ZM72.2883 29.144C71.0243 29.144 69.8883 28.864 68.8803 28.304C67.8723 27.744 67.0803 26.976 66.5043 26C65.9443 25.008 65.6643 23.888 65.6643 22.64C65.6643 21.392 65.9443 20.28 66.5043 19.304C67.0803 18.312 67.8723 17.544 68.8803 17C69.8883 16.44 71.0243 16.16 72.2883 16.16C73.5523 16.16 74.6803 16.44 75.6723 17C76.6803 17.544 77.4643 18.312 78.0243 19.304C78.6003 20.28 78.8883 21.392 78.8883 22.64C78.8883 23.888 78.6003 25.008 78.0243 26C77.4643 26.976 76.6803 27.744 75.6723 28.304C74.6803 28.864 73.5523 29.144 72.2883 29.144ZM72.2883 27.128C73.1043 27.128 73.8323 26.944 74.4723 26.576C75.1283 26.192 75.6403 25.664 76.0083 24.992C76.3763 24.304 76.5603 23.52 76.5603 22.64C76.5603 21.76 76.3763 20.984 76.0083 20.312C75.6403 19.624 75.1283 19.096 74.4723 18.728C73.8323 18.36 73.1043 18.176 72.2883 18.176C71.4723 18.176 70.7363 18.36 70.0803 18.728C69.4403 19.096 68.9283 19.624 68.5443 20.312C68.1763 20.984 67.9923 21.76 67.9923 22.64C67.9923 23.52 68.1763 24.304 68.5443 24.992C68.9283 25.664 69.4403 26.192 70.0803 26.576C70.7363 26.944 71.4723 27.128 72.2883 27.128ZM97.9866 16.16C99.5866 16.16 100.851 16.624 101.779 17.552C102.723 18.48 103.195 19.856 103.195 21.68V29H100.891V21.944C100.891 20.712 100.603 19.784 100.027 19.16C99.4666 18.536 98.6586 18.224 97.6026 18.224C96.4346 18.224 95.5066 18.592 94.8186 19.328C94.1306 20.048 93.7866 21.088 93.7866 22.448V29H91.4826V21.944C91.4826 20.712 91.1946 19.784 90.6186 19.16C90.0586 18.536 89.2506 18.224 88.1946 18.224C87.0266 18.224 86.0986 18.592 85.4106 19.328C84.7226 20.048 84.3786 21.088 84.3786 22.448V29H82.0746V16.28H84.2826V18.176C84.7466 17.52 85.3546 17.024 86.1066 16.688C86.8586 16.336 87.7146 16.16 88.6746 16.16C89.6666 16.16 90.5466 16.36 91.3146 16.76C92.0826 17.16 92.6746 17.744 93.0906 18.512C93.5706 17.776 94.2346 17.2 95.0826 16.784C95.9466 16.368 96.9146 16.16 97.9866 16.16ZM112.952 29.144C111.688 29.144 110.552 28.864 109.544 28.304C108.536 27.744 107.744 26.976 107.168 26C106.608 25.008 106.328 23.888 106.328 22.64C106.328 21.392 106.608 20.28 107.168 19.304C107.744 18.312 108.536 17.544 109.544 17C110.552 16.44 111.688 16.16 112.952 16.16C114.216 16.16 115.344 16.44 116.336 17C117.344 17.544 118.128 18.312 118.688 19.304C119.264 20.28 119.552 21.392 119.552 22.64C119.552 23.888 119.264 25.008 118.688 26C118.128 26.976 117.344 27.744 116.336 28.304C115.344 28.864 114.216 29.144 112.952 29.144ZM112.952 27.128C113.768 27.128 114.496 26.944 115.136 26.576C115.792 26.192 116.304 25.664 116.672 24.992C117.04 24.304 117.224 23.52 117.224 22.64C117.224 21.76 117.04 20.984 116.672 20.312C116.304 19.624 115.792 19.096 115.136 18.728C114.496 18.36 113.768 18.176 112.952 18.176C112.136 18.176 111.4 18.36 110.744 18.728C110.104 19.096 109.592 19.624 109.208 20.312C108.84 20.984 108.656 21.76 108.656 22.64C108.656 23.52 108.84 24.304 109.208 24.992C109.592 25.664 110.104 26.192 110.744 26.576C111.4 26.944 112.136 27.128 112.952 27.128ZM134.739 11.192V29H132.531V26.984C132.019 27.688 131.371 28.224 130.587 28.592C129.803 28.96 128.939 29.144 127.995 29.144C126.763 29.144 125.659 28.872 124.683 28.328C123.707 27.784 122.939 27.024 122.379 26.048C121.835 25.056 121.563 23.92 121.563 22.64C121.563 21.36 121.835 20.232 122.379 19.256C122.939 18.28 123.707 17.52 124.683 16.976C125.659 16.432 126.763 16.16 127.995 16.16C128.907 16.16 129.747 16.336 130.515 16.688C131.283 17.024 131.923 17.528 132.435 18.2V11.192H134.739ZM128.187 27.128C128.987 27.128 129.715 26.944 130.371 26.576C131.027 26.192 131.539 25.664 131.907 24.992C132.275 24.304 132.459 23.52 132.459 22.64C132.459 21.76 132.275 20.984 131.907 20.312C131.539 19.624 131.027 19.096 130.371 18.728C129.715 18.36 128.987 18.176 128.187 18.176C127.371 18.176 126.635 18.36 125.979 18.728C125.339 19.096 124.827 19.624 124.443 20.312C124.075 20.984 123.891 21.76 123.891 22.64C123.891 23.52 124.075 24.304 124.443 24.992C124.827 25.664 125.339 26.192 125.979 26.576C126.635 26.944 127.371 27.128 128.187 27.128ZM144.546 29.144C143.282 29.144 142.146 28.864 141.138 28.304C140.13 27.744 139.338 26.976 138.762 26C138.202 25.008 137.922 23.888 137.922 22.64C137.922 21.392 138.202 20.28 138.762 19.304C139.338 18.312 140.13 17.544 141.138 17C142.146 16.44 143.282 16.16 144.546 16.16C145.81 16.16 146.938 16.44 147.93 17C148.938 17.544 149.722 18.312 150.282 19.304C150.858 20.28 151.146 21.392 151.146 22.64C151.146 23.888 150.858 25.008 150.282 26C149.722 26.976 148.938 27.744 147.93 28.304C146.938 28.864 145.81 29.144 144.546 29.144ZM144.546 27.128C145.362 27.128 146.09 26.944 146.73 26.576C147.386 26.192 147.898 25.664 148.266 24.992C148.634 24.304 148.818 23.52 148.818 22.64C148.818 21.76 148.634 20.984 148.266 20.312C147.898 19.624 147.386 19.096 146.73 18.728C146.09 18.36 145.362 18.176 144.546 18.176C143.73 18.176 142.994 18.36 142.338 18.728C141.698 19.096 141.186 19.624 140.802 20.312C140.434 20.984 140.25 21.76 140.25 22.64C140.25 23.52 140.434 24.304 140.802 24.992C141.186 25.664 141.698 26.192 142.338 26.576C142.994 26.944 143.73 27.128 144.546 27.128ZM156.54 18.416C156.94 17.68 157.532 17.12 158.316 16.736C159.1 16.352 160.052 16.16 161.172 16.16V18.392C161.044 18.376 160.868 18.368 160.644 18.368C159.396 18.368 158.412 18.744 157.692 19.496C156.988 20.232 156.636 21.288 156.636 22.664V29H154.332V16.28H156.54V18.416ZM169.343 29.144C168.079 29.144 166.943 28.864 165.935 28.304C164.927 27.744 164.135 26.976 163.559 26C162.999 25.008 162.719 23.888 162.719 22.64C162.719 21.392 162.999 20.28 163.559 19.304C164.135 18.312 164.927 17.544 165.935 17C166.943 16.44 168.079 16.16 169.343 16.16C170.607 16.16 171.735 16.44 172.727 17C173.735 17.544 174.519 18.312 175.079 19.304C175.655 20.28 175.943 21.392 175.943 22.64C175.943 23.888 175.655 25.008 175.079 26C174.519 26.976 173.735 27.744 172.727 28.304C171.735 28.864 170.607 29.144 169.343 29.144ZM169.343 27.128C170.159 27.128 170.887 26.944 171.527 26.576C172.183 26.192 172.695 25.664 173.063 24.992C173.431 24.304 173.615 23.52 173.615 22.64C173.615 21.76 173.431 20.984 173.063 20.312C172.695 19.624 172.183 19.096 171.527 18.728C170.887 18.36 170.159 18.176 169.343 18.176C168.527 18.176 167.791 18.36 167.135 18.728C166.495 19.096 165.983 19.624 165.599 20.312C165.231 20.984 165.047 21.76 165.047 22.64C165.047 23.52 165.231 24.304 165.599 24.992C165.983 25.664 166.495 26.192 167.135 26.576C167.791 26.944 168.527 27.128 169.343 27.128ZM176.289 29H188.289V30.488H176.289V29ZM197.217 16.16C198.449 16.16 199.553 16.432 200.529 16.976C201.505 17.52 202.265 18.28 202.809 19.256C203.369 20.232 203.649 21.36 203.649 22.64C203.649 23.92 203.369 25.056 202.809 26.048C202.265 27.024 201.505 27.784 200.529 28.328C199.553 28.872 198.449 29.144 197.217 29.144C196.273 29.144 195.409 28.96 194.625 28.592C193.841 28.224 193.193 27.688 192.681 26.984V29H190.473V11.192H192.777V18.2C193.289 17.528 193.929 17.024 194.697 16.688C195.465 16.336 196.305 16.16 197.217 16.16ZM197.025 27.128C197.841 27.128 198.569 26.944 199.209 26.576C199.865 26.192 200.377 25.664 200.745 24.992C201.129 24.304 201.321 23.52 201.321 22.64C201.321 21.76 201.129 20.984 200.745 20.312C200.377 19.624 199.865 19.096 199.209 18.728C198.569 18.36 197.841 18.176 197.025 18.176C196.225 18.176 195.497 18.36 194.841 18.728C194.185 19.096 193.673 19.624 193.305 20.312C192.937 20.984 192.753 21.76 192.753 22.64C192.753 23.52 192.937 24.304 193.305 24.992C193.673 25.664 194.185 26.192 194.841 26.576C195.497 26.944 196.225 27.128 197.025 27.128ZM212.28 29.144C211.016 29.144 209.88 28.864 208.872 28.304C207.864 27.744 207.072 26.976 206.496 26C205.936 25.008 205.656 23.888 205.656 22.64C205.656 21.392 205.936 20.28 206.496 19.304C207.072 18.312 207.864 17.544 208.872 17C209.88 16.44 211.016 16.16 212.28 16.16C213.544 16.16 214.672 16.44 215.664 17C216.672 17.544 217.456 18.312 218.016 19.304C218.592 20.28 218.88 21.392 218.88 22.64C218.88 23.888 218.592 25.008 218.016 26C217.456 26.976 216.672 27.744 215.664 28.304C214.672 28.864 213.544 29.144 212.28 29.144ZM212.28 27.128C213.096 27.128 213.824 26.944 214.464 26.576C215.12 26.192 215.632 25.664 216 24.992C216.368 24.304 216.552 23.52 216.552 22.64C216.552 21.76 216.368 20.984 216 20.312C215.632 19.624 215.12 19.096 214.464 18.728C213.824 18.36 213.096 18.176 212.28 18.176C211.464 18.176 210.728 18.36 210.072 18.728C209.432 19.096 208.92 19.624 208.536 20.312C208.168 20.984 207.984 21.76 207.984 22.64C207.984 23.52 208.168 24.304 208.536 24.992C208.92 25.664 209.432 26.192 210.072 26.576C210.728 26.944 211.464 27.128 212.28 27.128ZM229.757 29L226.085 24.128L222.365 29H219.797L224.813 22.496L220.037 16.28H222.605L226.109 20.864L229.589 16.28H232.109L227.309 22.496L232.373 29H229.757Z" fill="#F64032" />
            <g clipPath="url(#clip0_2486_1870)">
              <path d="M19.8882 40.0002C10.6868 40.0002 3.2002 32.5145 3.2002 23.3122C3.2002 14.1108 10.6868 6.62424 19.8882 6.62424C29.0895 6.62424 36.5761 14.1108 36.5761 23.3122C36.5761 32.5145 29.0895 40.0002 19.8882 40.0002ZM19.8882 10.3327C12.7311 10.3327 6.90863 16.1551 6.90863 23.3122C6.90863 30.4684 12.7311 36.2917 19.8882 36.2917C27.0453 36.2917 32.8677 30.4684 32.8677 23.3122C32.8677 16.1551 27.0453 10.3327 19.8882 10.3327Z" fill="#F64032" />
              <path d="M19.8882 10.3327C12.7311 10.3327 6.90863 16.1551 6.90863 23.3122C6.90863 30.4684 12.7311 36.2917 19.8882 36.2917C27.0453 36.2917 32.8677 30.4684 32.8677 23.3122C32.8677 16.1551 27.0453 10.3327 19.8882 10.3327Z" fill="#F64032" />
              <path fillRule="evenodd" clipRule="evenodd" d="M27.6615 1.60504C26.8353 1.29916 25.9176 1.72095 25.6117 2.54714L24.3812 5.87068L21.231 4.93118C20.4048 4.6253 17.9499 4.25124 17.6441 5.07743C17.3382 5.90361 19.4234 7.14047 20.2496 7.44635L23.2735 8.86256L22.4162 12.0934C22.1103 12.9196 21.7883 14.9313 22.6144 15.2372C23.4406 15.5431 24.5268 13.8142 24.8327 12.988L26.2654 9.97023L29.6855 10.9398C30.5117 11.2457 32.7777 11.6202 33.0835 10.794C33.3894 9.96784 31.4489 8.71412 30.6228 8.40824L27.3731 6.97835L28.6036 3.65482C28.9094 2.82863 28.4876 1.91091 27.6615 1.60504ZM27.3731 6.97835L24.3812 5.87068L23.2735 8.86256L26.2654 9.97023L27.3731 6.97835Z" fill="#35B36E" />
              <path d="M27.3731 6.97835L24.3812 5.87068L23.2735 8.86256L26.2654 9.97023L27.3731 6.97835Z" fill="#35B36E" />
            </g>
            <defs>
              <clipPath id="clip0_2486_1870">
                <rect width="40" height="40" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </a>
      </Link>
      <button
        className={styles.btn}
        type="button"
        onClick={toggleTheme}
      >
        {
          isMounted && appTheme === 'themeLight'
            ? (
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7.80834 4.59167C7.65782 5.13155 7.58211 5.68953 7.58334 6.25C7.58334 9.65 10.35 12.4167 13.75 12.4167C14.3167 12.4167 14.875 12.3417 15.4083 12.1917C14.9706 13.2673 14.2224 14.1881 13.2591 14.8367C12.2959 15.4853 11.1613 15.8322 10 15.8333C6.78334 15.8333 4.16667 13.2167 4.16667 10C4.16667 7.55833 5.675 5.45833 7.80834 4.59167V4.59167ZM10 2.5C8.51664 2.5 7.0666 2.93987 5.83323 3.76398C4.59986 4.58809 3.63856 5.75943 3.07091 7.12987C2.50325 8.50032 2.35472 10.0083 2.64411 11.4632C2.9335 12.918 3.64781 14.2544 4.6967 15.3033C5.7456 16.3522 7.08197 17.0665 8.53683 17.3559C9.99168 17.6453 11.4997 17.4968 12.8701 16.9291C14.2406 16.3614 15.4119 15.4001 16.236 14.1668C17.0601 12.9334 17.5 11.4834 17.5 10C17.5 9.61667 17.4667 9.23333 17.4167 8.86667C17.0003 9.45055 16.4501 9.92622 15.8122 10.2539C15.1743 10.5815 14.4671 10.7517 13.75 10.75C12.796 10.75 11.8667 10.447 11.096 9.88472C10.3253 9.3224 9.75321 8.52984 9.46212 7.62134C9.17102 6.71284 9.17602 5.73536 9.47639 4.82988C9.77676 3.9244 10.357 3.13773 11.1333 2.58333C10.7667 2.53333 10.3833 2.5 10 2.5V2.5Z" fill="black" />
              </svg>
            )
            : (
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.0002 7.50016C11.3752 7.50016 12.5002 8.62516 12.5002 10.0002C12.5002 11.3752 11.3752 12.5002 10.0002 12.5002C8.62516 12.5002 7.50016 11.3752 7.50016 10.0002C7.50016 8.62516 8.62516 7.50016 10.0002 7.50016ZM10.0002 5.8335C7.70016 5.8335 5.8335 7.70016 5.8335 10.0002C5.8335 12.3002 7.70016 14.1668 10.0002 14.1668C12.3002 14.1668 14.1668 12.3002 14.1668 10.0002C14.1668 7.70016 12.3002 5.8335 10.0002 5.8335ZM1.66683 10.8335H3.3335C3.79183 10.8335 4.16683 10.4585 4.16683 10.0002C4.16683 9.54183 3.79183 9.16683 3.3335 9.16683H1.66683C1.2085 9.16683 0.833496 9.54183 0.833496 10.0002C0.833496 10.4585 1.2085 10.8335 1.66683 10.8335ZM16.6668 10.8335H18.3335C18.7918 10.8335 19.1668 10.4585 19.1668 10.0002C19.1668 9.54183 18.7918 9.16683 18.3335 9.16683H16.6668C16.2085 9.16683 15.8335 9.54183 15.8335 10.0002C15.8335 10.4585 16.2085 10.8335 16.6668 10.8335ZM9.16683 1.66683V3.3335C9.16683 3.79183 9.54183 4.16683 10.0002 4.16683C10.4585 4.16683 10.8335 3.79183 10.8335 3.3335V1.66683C10.8335 1.2085 10.4585 0.833496 10.0002 0.833496C9.54183 0.833496 9.16683 1.2085 9.16683 1.66683ZM9.16683 16.6668V18.3335C9.16683 18.7918 9.54183 19.1668 10.0002 19.1668C10.4585 19.1668 10.8335 18.7918 10.8335 18.3335V16.6668C10.8335 16.2085 10.4585 15.8335 10.0002 15.8335C9.54183 15.8335 9.16683 16.2085 9.16683 16.6668ZM4.99183 3.81683C4.91473 3.73958 4.82316 3.67829 4.72235 3.63647C4.62154 3.59465 4.51347 3.57313 4.40433 3.57313C4.29519 3.57313 4.18712 3.59465 4.08631 3.63647C3.9855 3.67829 3.89392 3.73958 3.81683 3.81683C3.73958 3.89392 3.67829 3.9855 3.63647 4.08631C3.59465 4.18712 3.57313 4.29519 3.57313 4.40433C3.57313 4.51347 3.59465 4.62154 3.63647 4.72235C3.67829 4.82316 3.73958 4.91473 3.81683 4.99183L4.70016 5.87516C5.02516 6.20016 5.5585 6.20016 5.87516 5.87516C6.19183 5.55016 6.20016 5.01683 5.87516 4.70016L4.99183 3.81683ZM15.3002 14.1252C15.2231 14.0479 15.1315 13.9866 15.0307 13.9448C14.9299 13.903 14.8218 13.8815 14.7127 13.8815C14.6035 13.8815 14.4955 13.903 14.3946 13.9448C14.2938 13.9866 14.2023 14.0479 14.1252 14.1252C14.0479 14.2023 13.9866 14.2938 13.9448 14.3946C13.903 14.4955 13.8815 14.6035 13.8815 14.7127C13.8815 14.8218 13.903 14.9299 13.9448 15.0307C13.9866 15.1315 14.0479 15.2231 14.1252 15.3002L15.0085 16.1835C15.3335 16.5085 15.8668 16.5085 16.1835 16.1835C16.2607 16.1064 16.322 16.0148 16.3639 15.914C16.4057 15.8132 16.4272 15.7051 16.4272 15.596C16.4272 15.4869 16.4057 15.3788 16.3639 15.278C16.322 15.1772 16.2607 15.0856 16.1835 15.0085L15.3002 14.1252ZM16.1835 4.99183C16.2607 4.91473 16.322 4.82316 16.3639 4.72235C16.4057 4.62154 16.4272 4.51347 16.4272 4.40433C16.4272 4.29519 16.4057 4.18712 16.3639 4.08631C16.322 3.9855 16.2607 3.89392 16.1835 3.81683C16.1064 3.73958 16.0148 3.67829 15.914 3.63647C15.8132 3.59465 15.7051 3.57313 15.596 3.57313C15.4869 3.57313 15.3788 3.59465 15.278 3.63647C15.1772 3.67829 15.0856 3.73958 15.0085 3.81683L14.1252 4.70016C13.8002 5.02516 13.8002 5.5585 14.1252 5.87516C14.4502 6.19183 14.9835 6.20016 15.3002 5.87516L16.1835 4.99183ZM5.87516 15.3002C5.95242 15.2231 6.01371 15.1315 6.05552 15.0307C6.09734 14.9299 6.11887 14.8218 6.11887 14.7127C6.11887 14.6035 6.09734 14.4955 6.05552 14.3946C6.01371 14.2938 5.95242 14.2023 5.87516 14.1252C5.79807 14.0479 5.70649 13.9866 5.60568 13.9448C5.50487 13.903 5.3968 13.8815 5.28766 13.8815C5.17852 13.8815 5.07045 13.903 4.96964 13.9448C4.86883 13.9866 4.77726 14.0479 4.70016 14.1252L3.81683 15.0085C3.49183 15.3335 3.49183 15.8668 3.81683 16.1835C4.14183 16.5002 4.67516 16.5085 4.99183 16.1835L5.87516 15.3002V15.3002Z" fill="black" />
              </svg>
            )
        }
      </button>
      <Link href="/stats">
        <a className={styles.btn}>
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4.1665 7.6665H6.6665V15.8332H4.1665V7.6665ZM8.83317 4.1665H11.1665V15.8332H8.83317V4.1665V4.1665ZM13.4998 10.8332H15.8332V15.8332H13.4998V10.8332Z" fill="black" />
          </svg>
        </a>
      </Link>
    </header>
  );
};
